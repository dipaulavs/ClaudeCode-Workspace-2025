# ğŸ¤– Claude Code - Workspace Configuration

**Auto-load:** Este arquivo Ã© carregado automaticamente quando vocÃª inicia Claude Code neste diretÃ³rio.

---

## ğŸš¨ AVISOS CRÃTICOS (LEIA PRIMEIRO)

### ğŸ¯ ConfirmaÃ§Ã£o Antes de Executar
**SEMPRE que usuÃ¡rio pedir para criar/fazer algo:**
1. âœ… Apresentar plano objetivo e resumido ANTES de executar
2. âœ… Aguardar confirmaÃ§Ã£o do usuÃ¡rio
3. âœ… SÃ³ entÃ£o executar as aÃ§Ãµes

**Por quÃª:** Garante alinhamento com raciocÃ­nio do usuÃ¡rio e evita retrabalho.

### GeraÃ§Ã£o de MÃºltiplas Imagens
**Se usuÃ¡rio pedir 2+ imagens = SEMPRE usar `batch_generate.py`**
- âœ… Correto: `batch_generate.py --api nanobanana "gato" "cachorro" "pÃ¡ssaro"`
- âŒ ERRADO: Executar 3x `generate_nanobanana.py` em sequÃªncia

**Por quÃª:** Batch gera TODAS em paralelo (60% mais rÃ¡pido), nÃ£o em fila.

---

## ğŸ¯ REGRAS DE ORGANIZAÃ‡ÃƒO (PRIORIDADE MÃXIMA)

**Ao criar QUALQUER nova ferramenta, script, funcionalidade ou arquivo:**

1. âœ… **OrganizaÃ§Ã£o sempre em primeiro lugar** - Nunca crie arquivos soltos na raiz
2. âœ… **Use a estrutura existente** - Respeite a hierarquia de pastas do workspace
3. âœ… **Crie mapa completo** - Sempre informe onde cada arquivo foi criado/modificado
4. âœ… **Documente imediatamente** - Crie README.md na pasta + adicione Ã  documentaÃ§Ã£o central
5. âœ… **Registre no CLAUDE.md** - Adicione caminho do template/ferramenta neste arquivo para uso futuro
6. âœ… **PadrÃ£o de organizaÃ§Ã£o:**
   - Scripts Python â†’ `tools/` (se ferramenta) ou `scripts/` (se utilitÃ¡rio)
   - DocumentaÃ§Ã£o â†’ `docs/` (na subpasta apropriada)
   - Configs â†’ `config/` (com nome descritivo)
   - Projetos completos â†’ Pasta prÃ³pria na raiz (ex: `whatsapp-chatbot/`)

**Estrutura para NOVOS projetos:**
```
nome-projeto/
â”œâ”€â”€ README.md          (obrigatÃ³rio - docs completa)
â”œâ”€â”€ src/               (cÃ³digo)
â”œâ”€â”€ config/            (configuraÃ§Ãµes)
â”œâ”€â”€ logs/              (se aplicÃ¡vel)
â””â”€â”€ docs/              (docs detalhadas)
```

**NUNCA:**
- âŒ Criar arquivos na raiz sem justificativa
- âŒ Criar pastas sem README.md
- âŒ Esquecer de atualizar CLAUDE.md com caminho da nova ferramenta/template
- âŒ Deixar usuÃ¡rio procurar onde estÃ¡ o que foi criado

**Ao finalizar criaÃ§Ã£o, SEMPRE mostrar:**
```
ğŸ“‚ Arquivos criados/modificados:
  âœ… path/to/file1.py (nova ferramenta X)
  âœ… path/to/file2.md (documentaÃ§Ã£o)
  âœ… config/x.json (configuraÃ§Ã£o)

ğŸ“ Como usar:
  comando ou path completo
```

---

## ğŸ“‹ Workspace Overview

Workspace com **40+ ferramentas de IA** prÃ©-configuradas para geraÃ§Ã£o de conteÃºdo, automaÃ§Ã£o e integraÃ§Ãµes.

---

## âš¡ Quick Actions

### Chatbot WhatsApp (ProduÃ§Ã£o)
```bash
bot        # Iniciar (alias)
botstop    # Parar (alias)
# ou
cd whatsapp-chatbot && ./INICIAR_BOT_V4.sh
```
- Bot V4.3: Claude Haiku 4.5 + Whisper + GPT-4o Vision
- TranscriÃ§Ã£o de Ã¡udios, visÃ£o de imagens, banco de imÃ³veis
- Porta 5001 | Logs: `whatsapp-chatbot/logs/chatbot_v4.log`

### Agendamento WhatsApp
```bash
# Agendar mensagem (hoje Ã s 17h)
python3 scheduling-system/schedule_whatsapp.py --phone 5531980160822 --message "Sua mensagem" --time 17:00

# Agendar recorrente (todo dia)
python3 scheduling-system/schedule_whatsapp.py --phone 5531980160822 --message "Bom dia!" --time 09:00 --daily

# Listar agendamentos
python3 scheduling-system/schedule_whatsapp.py --list
```
- Sistema centralizado de agendamento via crontab
- Suporta mensagens Ãºnicas ou recorrentes
- Docs: `scheduling-system/README.md`

---

## ğŸ“¦ Scripts Templates (Quick Actions)

**Sistema de scripts prontos para acelerar execuÃ§Ã£o de tarefas comuns.**

### âš¡ Por que usar Templates?

**âŒ ANTES:** Criar script novo toda vez â†’ CÃ³digo descartÃ¡vel â†’ Lento
**âœ… AGORA:** Usar template pronto â†’ Executar direto â†’ RÃ¡pido

### ğŸ“± WhatsApp Templates (âœ… 19 Prontos - Ver seÃ§Ã£o completa no final)

```bash
# Enviar mensagem
python3 scripts/whatsapp/send_message.py --phone 5531980160822 --message "OlÃ¡!"

# Enviar mÃ­dia (imagem/vÃ­deo/doc)
python3 scripts/whatsapp/send_media.py --phone 5531980160822 --file "imagem.jpg" --type image --caption "Veja!"

# Criar grupo
python3 scripts/whatsapp/create_group.py --name "Meu Grupo" --phones 5531980160822,5511999999999

# Criar grupo apenas admins
python3 scripts/whatsapp/create_group.py --name "AnÃºncios" --phones 5531980160822 --admins-only

# Enviar enquete
python3 scripts/whatsapp/send_poll.py --phone 5531980160822 --question "Pizza?" --options "Sim,NÃ£o"
```

### ğŸ“¸ Instagram Templates (âœ… Prontos)

```bash
# Publicar post
python3 scripts/instagram/publish_post.py --image "foto.jpg" --caption "Meu post!"

# Publicar carrossel (2-10 imagens)
python3 scripts/instagram/publish_carousel.py --images "img1.jpg,img2.jpg,img3.jpg" --caption "Carrossel!"

# Publicar Reel
python3 scripts/instagram/publish_reel.py --video "video.mp4" --caption "Meu Reel!" --cover "capa.jpg"

# Publicar Story (24h)
python3 scripts/instagram/publish_story.py --media "imagem.jpg"

# Obter mÃ©tricas da conta
python3 scripts/instagram/get_insights.py --account

# Gerenciar comentÃ¡rios
python3 scripts/instagram/manage_comments.py --list MEDIA_ID --limit 50
```

### ğŸ¯ Meta Ads Templates (âœ… Prontos)

```bash
# Criar campanha
python3 scripts/meta-ads/create_campaign.py --name "Minha Campanha" --objective OUTCOME_TRAFFIC

# Criar ad set
python3 scripts/meta-ads/create_adset.py --campaign-id 123456789 --name "Ad Set Brasil"

# Criar anÃºncio completo (imagem + criativo + ad)
python3 scripts/meta-ads/create_ad.py --adset-id 987 --name "AnÃºncio Casa" --message "Casa linda!" --link "https://site.com" --image "foto.jpg"

# Obter mÃ©tricas
python3 scripts/meta-ads/get_insights.py --id 123456789 --level campaign --period last_7d
```

### â˜ï¸ Nextcloud Templates (âœ… Prontos)

```bash
# Upload rÃ¡pido do Downloads (arquivo mais recente)
python3 scripts/nextcloud/upload_from_downloads.py

# Upload por nome (busca no Downloads)
python3 scripts/nextcloud/upload_from_downloads.py --name "screenshot"

# Upload manual de arquivo especÃ­fico
python3 scripts/nextcloud/upload_to_nextcloud.py /caminho/arquivo.jpg

# Upload com expiraÃ§Ã£o de 7 dias
python3 scripts/nextcloud/upload_from_downloads.py --name "foto" --days 7

# Upload permanente (sem expiraÃ§Ã£o)
python3 scripts/nextcloud/upload_from_downloads.py --permanent

# Listar arquivos recentes do Downloads
python3 scripts/nextcloud/upload_from_downloads.py --list
```

### ğŸ¨ GeraÃ§Ã£o de Imagens (Templates)

```bash
# Gerar imagem com GPT-4o (alta qualidade)
python3 scripts/image-generation/generate_gpt4o.py "seu prompt aqui"

# Gerar com variaÃ§Ãµes (2 ou 4)
python3 scripts/image-generation/generate_gpt4o.py "logo moderno" --variants 2

# Gerar com Nano Banana (mais rÃ¡pido/barato)
python3 scripts/image-generation/generate_nanobanana.py "paisagem montanha"

# Gerar com DALL-E 3 (requer OPENAI_API_KEY)
python3 scripts/image-generation/generate_dalle3.py "arte abstrata" --quality hd

# ğŸš¨ MÃšLTIPLAS IMAGENS (2+) = SEMPRE USAR BATCH (paralelo, 60% mais rÃ¡pido)
python3 scripts/image-generation/batch_generate.py "prompt 1" "prompt 2" "prompt 3"
python3 scripts/image-generation/batch_generate.py --api nanobanana "gato" "cachorro" "pÃ¡ssaro"

# Editar imagem existente
python3 scripts/image-generation/edit_nanobanana.py foto.jpg "adicionar Ã³culos de sol"
```

- Sistema com 5 templates testados e funcionais
- Todas imagens salvas em `~/Downloads/`
- Nomes descritivos automÃ¡ticos em portuguÃªs
- Docs completa: `scripts/image-generation/README.md`

### ğŸ¬ GeraÃ§Ã£o de VÃ­deos (Templates)

```bash
# Gerar vÃ­deo Ãºnico com Sora 2 (portrait - Stories/Reels)
python3 scripts/video-generation/generate_sora.py "gato brincando com novelo de lÃ£"

# VÃ­deo landscape (YouTube)
python3 scripts/video-generation/generate_sora.py "paisagem de montanha ao amanhecer" --aspect landscape

# VÃ­deo quadrado (posts Instagram)
python3 scripts/video-generation/generate_sora.py "produto girando 360 graus" --aspect square

# ğŸš¨ MÃšLTIPLOS VÃDEOS (2+) = SEMPRE USAR BATCH (paralelo, economiza tempo!)
python3 scripts/video-generation/batch_generate.py "cena 1" "cena 2" "cena 3"
python3 scripts/video-generation/batch_generate.py "gato" "cachorro" "pÃ¡ssaro" --aspect portrait

# Manter marca d'Ã¡gua (padrÃ£o: remove)
python3 scripts/video-generation/generate_sora.py "prompt" --watermark
```

- Sistema com 2 templates testados e funcionais
- Todos vÃ­deos salvos em `~/Downloads/`
- DuraÃ§Ã£o: ~15 segundos por vÃ­deo
- 3 proporÃ§Ãµes: portrait (Stories/Reels), landscape (YouTube), square (Posts IG)
- GeraÃ§Ã£o paralela: 2+ vÃ­deos ao mesmo tempo (batch)
- Tempo estimado: 2-5 minutos por vÃ­deo
- Docs completa: `scripts/video-generation/README.md`

### ğŸ¤ GeraÃ§Ã£o de Ãudio (Templates)

```bash
# Gerar Ã¡udio Ãºnico com ElevenLabs (TTS)
python3 scripts/audio-generation/generate_elevenlabs.py "Seu texto aqui"

# Com voz clonada (Felipe)
python3 scripts/audio-generation/generate_elevenlabs.py "Texto" --voice felipe

# Alta qualidade com nome personalizado
python3 scripts/audio-generation/generate_elevenlabs.py "Mensagem" --format mp3_ultra --output meu_audio

# ğŸš¨ MÃšLTIPLOS ÃUDIOS (2+) = SEMPRE USAR BATCH (sequencial com delay)
python3 scripts/audio-generation/batch_generate.py "texto1" "texto2" "texto3"

# Batch com voz clonada e delay personalizado
python3 scripts/audio-generation/batch_generate.py "A" "B" "C" --voice felipe --delay 2

# Listar vozes disponÃ­veis
python3 scripts/audio-generation/generate_elevenlabs.py --list-voices
```

- Sistema com 2 templates testados e funcionais
- Todos Ã¡udios salvos em `~/Downloads/`
- Nomes descritivos automÃ¡ticos (com timestamp)
- Suporte a voz padrÃ£o (Michele) e clonada (Felipe)
- MÃºltiplos formatos (mp3_low, mp3_medium, mp3_high, mp3_ultra, pcm)
- Controle de estabilidade e similaridade
- Docs completa: `scripts/audio-generation/README.md`

### ğŸ” ExtraÃ§Ã£o de ConteÃºdo (Templates)

```bash
# Transcrever vÃ­deo (YouTube, TikTok, IG, etc)
python3 scripts/extraction/transcribe_video.py "https://youtu.be/VIDEO_ID" --lang pt

# Transcrever TikTok em inglÃªs
python3 scripts/extraction/transcribe_video.py "https://tiktok.com/@user/video/123"

# Extrair posts do Instagram (imagens + legendas)
python3 scripts/extraction/extract_instagram.py "https://instagram.com/p/ABC123/"

# Extrair posts de perfil IG
python3 scripts/extraction/extract_instagram.py "natgeo" --limit 10

# Web scraping de site completo (conversÃ£o para Markdown)
python3 scripts/extraction/scrape_website.py "https://docs.example.com"

# Web scraping com limite de pÃ¡ginas
python3 scripts/extraction/scrape_website.py "https://docs.site.com" --max-pages 50

# Web scraping em batch (mÃºltiplos sites)
python3 scripts/extraction/scrape_batch.py "https://docs.site1.com" "https://docs.site2.com"
```

- Sistema com 4 templates testados e funcionais
- TranscriÃ§Ã£o: YouTube, TikTok, Instagram, LinkedIn, X/Twitter, Vimeo
- Instagram: extrai imagens, vÃ­deos, legendas e metadados
- Web scraping: converte sites completos para Markdown
- Todos arquivos salvos em `~/Downloads/`
- Docs completa: `scripts/extraction/README.md`

### ğŸ” Busca em Tempo Real (xAI Search Templates) âœ… NOVO

```bash
# Busca na web (documentaÃ§Ã£o, tutoriais, artigos)
python3.11 scripts/search/xai_web.py "melhores prÃ¡ticas Python 2025"
python3.11 scripts/search/xai_web.py "React hooks tutorial" --max-results 10

# Busca no Twitter/X (trending topics, opiniÃµes, breaking news)
python3.11 scripts/search/xai_twitter.py "opiniÃ£o sobre IA" --recent
python3.11 scripts/search/xai_twitter.py "AI trends" --handles elonmusk,gdb
python3.11 scripts/search/xai_twitter.py "viral memes" --min-likes 1000

# Busca em notÃ­cias (cobertura jornalÃ­stica profissional)
python3.11 scripts/search/xai_news.py "inteligÃªncia artificial" --24h
python3.11 scripts/search/xai_news.py "mercado financeiro" --last-week
python3.11 scripts/search/xai_news.py "tecnologia" --news-only
```

- Sistema com 3 templates testados e funcionais
- **IMPORTANTE:** Requer Python 3.11+ (xAI SDK requirement)
- Busca em tempo real: Web, Twitter/X, NotÃ­cias
- Filtros avanÃ§ados: data, handles, popularidade
- LatÃªncia: ~2-3s | Custo: ~$0.125/busca
- Modelos: grok-4-fast (padrÃ£o), grok-4 (mais preciso)
- Docs completa: `scripts/search/README.md`

### ğŸ¦ Twitter/X Scraping (Apify Templates) âœ… NOVO

```bash
# Busca avanÃ§ada de tweets
python3 scripts/twitter/search_twitter.py "inteligÃªncia artificial" --lang pt --max-items 100
python3 scripts/twitter/search_twitter.py "(python OR javascript) tutorial" --verified --min-likes 50

# Scraping de perfil (histÃ³rico)
python3 scripts/twitter/scrape_profile.py NASA --year 2024
python3 scripts/twitter/scrape_profile.py elonmusk --from-year 2020 --to-year 2024

# Scraping de tweets especÃ­ficos
python3 scripts/twitter/scrape_tweets.py "https://twitter.com/user/status/123..."
python3 scripts/twitter/scrape_tweets.py --from-file urls.txt

# Scraping de replies/conversas
python3 scripts/twitter/scrape_replies.py 1728108619189874825 --verified --min-likes 10

# Batch (mÃºltiplos perfis/termos)
python3 scripts/twitter/batch_twitter.py --handles NASA SpaceX --max-items 500
python3 scripts/twitter/batch_twitter.py --search "ai" "machine learning" --separate-files
```

- Sistema com 5 templates testados e funcionais
- Busca avanÃ§ada com operadores (OR, -, filter:, min_faves:, etc)
- Scraping de perfis com divisÃ£o automÃ¡tica por perÃ­odo
- Scraping de tweets especÃ­ficos e conversas/replies
- Batch processing para mÃºltiplos perfis/termos
- Filtros: data, idioma, mÃ­dia, engajamento, verificados
- Pricing: $0.30/1000 tweets | 30-80 tweets/s
- Docs completa: `scripts/twitter/README.md` + `docs/tools/apify_twitter.md`

### ğŸµ TikTok Scraping (TikTok API23 Templates) âœ…

```bash
# Info de usuÃ¡rio + posts populares
python3 scripts/tiktok/get_user_info.py --username taylorswift --posts 10

# Detalhes de vÃ­deo + comentÃ¡rios
python3 scripts/tiktok/get_video_info.py --video-id 7306132438047116586 --comments 50

# Buscar vÃ­deos/usuÃ¡rios/conteÃºdo
python3 scripts/tiktok/search_content.py --keyword "gato" --type video --limit 50
python3 scripts/tiktok/search_content.py --keyword "taylor" --type account

# Monitorar trending (vÃ­deos, hashtags, mÃºsicas, criadores, keywords)
python3 scripts/tiktok/get_trending.py --type videos --limit 30
python3 scripts/tiktok/get_trending.py --type hashtags --country BR --period 1
python3 scripts/tiktok/get_trending.py --type songs --period 7

# Analisar hashtag completa (info + posts + engajamento mÃ©dio)
python3 scripts/tiktok/analyze_hashtag.py --hashtag fyp --posts 50
```

- Sistema com 5 templates testados e funcionais
- Info de perfis: seguidores, seguindo, bio, posts populares
- Detalhes de vÃ­deos: views, likes, comentÃ¡rios, shares, mÃºsica
- Busca avanÃ§ada: vÃ­deos, usuÃ¡rios, conteÃºdo geral
- Trending: vÃ­deos, hashtags, mÃºsicas, criadores, keywords (por paÃ­s/perÃ­odo)
- AnÃ¡lise de hashtags: views totais, posts relacionados, engajamento mÃ©dio
- Docs completa: `scripts/tiktok/README.md` + `docs/tools/tiktok_api23.md`

### ğŸ—ºï¸ Google Maps Scraping (Apify Templates) âœ… NOVO

```bash
# Busca bÃ¡sica (termo + localizaÃ§Ã£o)
python3 scripts/scraping/google_maps_basic.py "restaurantes" "SÃ£o Paulo, Brasil"
python3 scripts/scraping/google_maps_basic.py "hotÃ©is" "Rio de Janeiro" --max 50 --csv

# Busca avanÃ§ada (categorias, geolocalizaÃ§Ã£o customizada)
python3 scripts/scraping/google_maps_advanced.py --search "restaurantes" --location "SP" --categories "Chinese restaurant,Japanese restaurant"
python3 scripts/scraping/google_maps_advanced.py --circle -46.6333 -23.5505 --radius 5 --search "academias" --max 100
python3 scripts/scraping/google_maps_advanced.py --url "https://www.google.com/maps/place/..."

# Batch (mÃºltiplas buscas/localizaÃ§Ãµes em paralelo)
python3 scripts/scraping/google_maps_batch.py --searches "restaurantes,hotÃ©is,cafeterias" --location "SÃ£o Paulo"
python3 scripts/scraping/google_maps_batch.py --search "academias" --locations "SP,RJ,BH,Curitiba"
python3 scripts/scraping/google_maps_batch.py --searches "pizzarias,hamburguerias" --locations "SP,RJ" --separate
```

- Sistema com 3 templates testados e funcionais
- ExtraÃ§Ã£o completa: nome, endereÃ§o, telefone, website, reviews, horÃ¡rios, fotos
- GeolocalizaÃ§Ã£o customizada: polÃ­gono, cÃ­rculo, Ã¡rea especÃ­fica
- Filtros por categoria, reviews, imagens
- Batch processing: mÃºltiplas buscas/locais em paralelo
- Export: JSON, CSV para ~/Downloads
- Pricing: $0.01-$0.10/run | LatÃªncia: ~30-120s
- Docs completa: `scripts/scraping/README.md` + `docs/tools/apify_google_maps.md`

### ğŸ“¸ Instagram Scraping (Apify Templates) âœ… NOVO

```bash
# Posts de usuÃ¡rio
python3 scripts/instagram-scraper/scrape_user_posts.py "natgeo" --limit 50
python3 scripts/instagram-scraper/scrape_user_posts.py "avengers" --newer-than "2024-01-01"

# Posts de hashtag
python3 scripts/instagram-scraper/scrape_hashtag_posts.py "travel" --limit 100
python3 scripts/instagram-scraper/scrape_hashtag_posts.py "fitness" --newer-than "2024-01-01"

# ComentÃ¡rios de post
python3 scripts/instagram-scraper/scrape_post_comments.py "https://instagram.com/p/ABC123/" --limit 200

# Perfil completo
python3 scripts/instagram-scraper/scrape_user_profile.py "natgeo"
python3 scripts/instagram-scraper/scrape_user_profile.py "avengers" --output perfil.json

# Posts de localizaÃ§Ã£o
python3 scripts/instagram-scraper/scrape_place_posts.py "Niagara Falls" --limit 50
python3 scripts/instagram-scraper/scrape_place_posts.py "Eiffel Tower" --newer-than "2024-01-01"
```

- Sistema com 5 templates testados e funcionais
- ExtraÃ§Ã£o de posts (imagens/vÃ­deos/carrosseis), comentÃ¡rios, perfis, hashtags, localizaÃ§Ãµes
- Dados completos: likes, comments, caption, hashtags, mentions, timestamp, owner
- Filtros por data (newer-than, older-than)
- Perfis: seguidores, biografia, posts recentes, IGTV, verificaÃ§Ã£o
- Apenas dados pÃºblicos (perfis privados = dados bÃ¡sicos)
- Pricing: $2.30/1000 comentÃ¡rios (~$0.0023/item)
- Docs completa: `scripts/instagram-scraper/README.md` + `docs/tools/apify_instagram.md`

### ğŸ“‹ DocumentaÃ§Ã£o Completa

- **Ãndice geral:** `scripts/README.md`
- **WhatsApp:** `scripts/whatsapp/README.md` (15 templates funcionais)
- **Instagram:** `scripts/instagram/README.md` (6 templates funcionais)
- **Meta Ads:** `scripts/meta-ads/README.md` (4 templates funcionais)
- **Nextcloud:** `scripts/nextcloud/README.md` (2 templates funcionais) + `docs/tools/cloud.md`
- **Imagens:** `scripts/image-generation/README.md` (5 templates funcionais)
- **VÃ­deos:** `scripts/video-generation/README.md` (2 templates funcionais)
- **Ãudio:** `scripts/audio-generation/README.md` (2 templates funcionais)
- **ExtraÃ§Ã£o:** `scripts/extraction/README.md` (4 templates funcionais)
- **Busca:** `scripts/search/README.md` (3 templates funcionais)
- **Twitter:** `scripts/twitter/README.md` (5 templates funcionais)
- **TikTok:** `scripts/tiktok/README.md` (5 templates funcionais) âœ…
- **Google Maps:** `scripts/scraping/README.md` (3 templates funcionais)
- **Instagram Scraper:** `scripts/instagram-scraper/README.md` (5 templates funcionais) âœ… NOVO
- **Template genÃ©rico:** `scripts/common/template_base.py`

### ğŸ¤– Regras para Claude Code

**SEMPRE que usuÃ¡rio pedir aÃ§Ãµes WhatsApp, Instagram, Meta Ads, Nextcloud, Imagens, VÃ­deos, Ãudio, ExtraÃ§Ã£o, Busca, Twitter, TikTok, Google Maps ou Instagram Scraping:**
1. âœ… Verificar se existe template em `scripts/whatsapp/`, `scripts/instagram/`, `scripts/meta-ads/`, `scripts/nextcloud/`, `scripts/image-generation/`, `scripts/video-generation/`, `scripts/audio-generation/`, `scripts/extraction/`, `scripts/search/`, `scripts/twitter/`, `scripts/tiktok/`, `scripts/scraping/` ou `scripts/instagram-scraper/`
2. âœ… Se existir, executar template direto
3. âœ… Se nÃ£o existir, criar novo template reutilizÃ¡vel (nÃ£o script temporÃ¡rio)
4. âœ… Documentar novo template no README

**NUNCA:**
- âŒ Criar scripts descartÃ¡veis para aÃ§Ãµes que podem ser templates
- âŒ Criar arquivos test_*.py temporÃ¡rios quando existir template

#### Google Maps Scraping

**SEMPRE que usuÃ¡rio pedir para extrair dados do Google Maps:**

1. âœ… **Identificar tipo de busca:**
   - **1 busca simples** â†’ `google_maps_basic.py`
   - **1 busca com filtros/geo** â†’ `google_maps_advanced.py`
   - **2+ buscas** â†’ `google_maps_batch.py` (OBRIGATÃ“RIO)

2. âœ… **Usar template correto:**
   ```bash
   # âŒ ERRADO (2+ buscas individuais)
   python3 scripts/scraping/google_maps_basic.py "restaurantes" "SP"
   python3 scripts/scraping/google_maps_basic.py "hotÃ©is" "SP"

   # âœ… CORRETO (2+ buscas em batch)
   python3 scripts/scraping/google_maps_batch.py \
     --searches "restaurantes,hotÃ©is" --location "SP"
   ```

3. âœ… **Informar onde salvou:**
   - Sempre mostrar caminho completo do arquivo
   - Resumir primeiros resultados extraÃ­dos

**NUNCA:**
- âŒ Criar scripts temporÃ¡rios de scraping Google Maps
- âŒ Executar mÃºltiplos `basic.py` em sequÃªncia (usar `batch.py`)
- âŒ Usar ferramentas de `tools/` diretamente sem necessidade

**Exemplos de identificaÃ§Ã£o:**
- "Extrai restaurantes de SP e RJ" â†’ `batch.py` âœ…
- "Busca academias em BH" â†’ `basic.py` âœ…
- "Pega hotÃ©is no centro com reviews" â†’ `advanced.py` âœ…
- "Scraping em raio de 5km das coordenadas X,Y" â†’ `advanced.py --circle` âœ…

#### Busca (xAI Search)

**âš ï¸ IMPORTANTE: xAI Search requer Python 3.11+**

**SEMPRE que usuÃ¡rio pedir para buscar/pesquisar algo:**

1. âœ… **Identificar tipo de busca:**
   - **Web** (documentaÃ§Ã£o, tutoriais, artigos) â†’ `xai_web.py`
   - **Twitter/X** (trending topics, opiniÃµes) â†’ `xai_twitter.py`
   - **NotÃ­cias** (cobertura jornalÃ­stica) â†’ `xai_news.py`

2. âœ… **Usar Python 3.11:**
   - Sempre executar com `python3.11` (nÃ£o `python3`)
   - SDK xAI requer Python 3.11+

3. âœ… **Exemplos de identificaÃ§Ã£o:**
   - "Busca tutoriais de React" â†’ `xai_web.py` âœ…
   - "O que estÃ£o falando no Twitter sobre IA?" â†’ `xai_twitter.py` âœ…
   - "Ãšltimas notÃ­cias sobre polÃ­tica" â†’ `xai_news.py` âœ…
   - "Pesquisa breaking news das Ãºltimas 24h" â†’ `xai_news.py --24h` âœ…

**NUNCA:**
- âŒ Usar `python3` (usar `python3.11`)
- âŒ Criar scripts temporÃ¡rios de busca
- âŒ Usar ferramentas de `tools/` diretamente (usar templates)

#### GeraÃ§Ã£o de Imagens

**ğŸš¨ REGRA CRÃTICA - MÃšLTIPLAS IMAGENS:**
- Se usuÃ¡rio pedir **2 ou mais imagens** = OBRIGATÃ“RIO usar `batch_generate.py`
- **NUNCA** executar mÃºltiplos `generate_*.py` individuais em sequÃªncia/fila
- Batch gera TODAS em paralelo (60% mais rÃ¡pido)

**ğŸŒ MODELO PADRÃƒO: SEMPRE usar Nano Banana (exceto se usuÃ¡rio especificar outro)**

**SEMPRE que usuÃ¡rio pedir para gerar/editar imagens:**

1. âœ… **Identificar quantidade:**
   - **1 imagem** â†’ `generate_nanobanana.py` (padrÃ£o)
   - **2+ imagens** â†’ `batch_generate.py --api nanobanana` (padrÃ£o)

2. âœ… **Escolher API (apenas se usuÃ¡rio especificar):**
   - **PadrÃ£o:** Nano Banana (rÃ¡pido/econÃ´mico)
   - **Alta qualidade/profissional:** GPT-4o ou DALL-E 3 HD
   - **EdiÃ§Ã£o:** edit_nanobanana.py

3. âœ… **Executar comando correto:**
   - 1 imagem: `python3 scripts/image-generation/generate_nanobanana.py "prompt"`
   - 2+ imagens: `python3 scripts/image-generation/batch_generate.py --api nanobanana "prompt1" "prompt2" "prompt3"`

4. âœ… Imagens salvam automaticamente em ~/Downloads/

**NUNCA:**
- âŒ Criar scripts temporÃ¡rios de geraÃ§Ã£o de imagem
- âŒ Usar ferramentas de `tools/` diretamente (usar templates)
- âŒ Executar mÃºltiplos generate individuais quando usuÃ¡rio pedir 2+ imagens
- âŒ Esquecer de informar onde imagem foi salva

**Exemplos de identificaÃ§Ã£o:**
- "Cria 3 imagens: gato, cachorro, pÃ¡ssaro" â†’ batch_generate.py âœ…
- "Gera imagem de gato e cachorro" â†’ batch_generate.py âœ…
- "Faz vÃ¡rias imagens de..." â†’ batch_generate.py âœ…
- "Gera uma imagem de gato" â†’ generate_nanobanana.py âœ…

**Estrutura:**
```
scripts/
â”œâ”€â”€ whatsapp/        # 15 templates prontos (mensagens, mÃ­dia, grupos, enquetes, etc)
â”œâ”€â”€ instagram/       # 6 templates prontos (post, carousel, reel, story, insights, comments)
â”œâ”€â”€ meta-ads/        # 4 templates prontos (campaign, adset, ad, insights)
â”œâ”€â”€ nextcloud/       # 2 templates prontos (upload manual, upload rÃ¡pido Downloads)
â”œâ”€â”€ image-generation/# 5 templates prontos (GPT-4o, Nano Banana, DALL-E 3, batch, ediÃ§Ã£o)
â”œâ”€â”€ audio-generation/# 2 templates prontos (ElevenLabs TTS Ãºnico, batch)
â”œâ”€â”€ extraction/      # 4 templates prontos (transcriÃ§Ã£o vÃ­deos, IG posts, web scraping)
â””â”€â”€ common/          # template_base.py (para criar novos)
```

#### GeraÃ§Ã£o de Ãudio

**ğŸš¨ REGRA CRÃTICA - MÃšLTIPLOS ÃUDIOS:**
- Se usuÃ¡rio pedir **2 ou mais Ã¡udios** = OBRIGATÃ“RIO usar `batch_generate.py`
- **NUNCA** executar mÃºltiplos `generate_elevenlabs.py` individuais em sequÃªncia
- Batch gera TODOS em sequÃªncia com delay otimizado (economiza rate limit)

**ğŸ¤ VOZ PADRÃƒO: Michele (padrÃ£o ElevenLabs)**

**SEMPRE que usuÃ¡rio pedir para gerar Ã¡udios:**

1. âœ… **Identificar quantidade:**
   - **1 Ã¡udio** â†’ `generate_elevenlabs.py` (padrÃ£o)
   - **2+ Ã¡udios** â†’ `batch_generate.py` (padrÃ£o)

2. âœ… **Escolher voz (apenas se usuÃ¡rio especificar):**
   - **PadrÃ£o:** Michele (voz feminina natural)
   - **Clonada:** Felipe (--voice felipe)
   - **Outra:** Listar com --list-voices

3. âœ… **Executar comando correto:**
   - 1 Ã¡udio: `python3 scripts/audio-generation/generate_elevenlabs.py "texto"`
   - 2+ Ã¡udios: `python3 scripts/audio-generation/batch_generate.py "texto1" "texto2" "texto3"`

4. âœ… Ãudios salvam automaticamente em ~/Downloads/

**NUNCA:**
- âŒ Criar scripts temporÃ¡rios de geraÃ§Ã£o de Ã¡udio
- âŒ Usar ferramentas de `tools/` diretamente (usar templates)
- âŒ Executar mÃºltiplos generate individuais quando usuÃ¡rio pedir 2+ Ã¡udios
- âŒ Esquecer de informar onde Ã¡udio foi salvo

**Exemplos de identificaÃ§Ã£o:**
- "Gera 3 Ã¡udios: mensagem 1, 2 e 3" â†’ batch_generate.py âœ…
- "Faz Ã¡udio de boas-vindas e despedida" â†’ batch_generate.py âœ…
- "Cria vÃ¡rios Ã¡udios para URA..." â†’ batch_generate.py âœ…
- "Gera um Ã¡udio de narraÃ§Ã£o" â†’ generate_elevenlabs.py âœ…

#### GeraÃ§Ã£o de VÃ­deos (Sora 2)

**ğŸš¨ REGRA CRÃTICA - MÃšLTIPLOS VÃDEOS:**
- Se usuÃ¡rio pedir **2 ou mais vÃ­deos** = OBRIGATÃ“RIO usar `batch_generate.py`
- **NUNCA** executar mÃºltiplos `generate_sora.py` individuais em sequÃªncia/fila
- Batch gera TODOS em paralelo (economiza tempo!)

**ğŸ¬ PROPORÃ‡ÃƒO PADRÃƒO: portrait (Stories/Reels)**

**SEMPRE que usuÃ¡rio pedir para gerar vÃ­deos:**

1. âœ… **Identificar quantidade:**
   - **1 vÃ­deo** â†’ `generate_sora.py` (padrÃ£o)
   - **2+ vÃ­deos** â†’ `batch_generate.py` (padrÃ£o)

2. âœ… **Escolher proporÃ§Ã£o (se usuÃ¡rio especificar):**
   - **Portrait** (padrÃ£o) - Stories, Reels, TikTok (9:16 vertical)
   - **Landscape** - YouTube, TV (16:9 horizontal)
   - **Square** - Posts Instagram (1:1 quadrado)

3. âœ… **Executar comando correto:**
   - 1 vÃ­deo: `python3 scripts/video-generation/generate_sora.py "prompt"`
   - 2+ vÃ­deos: `python3 scripts/video-generation/batch_generate.py "prompt1" "prompt2" "prompt3"`
   - Com proporÃ§Ã£o: adicionar `--aspect landscape` ou `--aspect square`

4. âœ… VÃ­deos salvam automaticamente em ~/Downloads/

**NUNCA:**
- âŒ Criar scripts temporÃ¡rios de geraÃ§Ã£o de vÃ­deo
- âŒ Usar ferramentas de `tools/` diretamente (usar templates)
- âŒ Executar mÃºltiplos generate individuais quando usuÃ¡rio pedir 2+ vÃ­deos
- âŒ Esquecer de informar onde vÃ­deo foi salvo

**Exemplos de identificaÃ§Ã£o:**
- "Cria 3 vÃ­deos: gato, cachorro, pÃ¡ssaro" â†’ batch_generate.py âœ…
- "Gera vÃ­deo de gato e cachorro" â†’ batch_generate.py âœ…
- "Faz vÃ¡rios vÃ­deos de..." â†’ batch_generate.py âœ…
- "Gera um vÃ­deo de gato" â†’ generate_sora.py âœ…
- "VÃ­deo para YouTube de..." â†’ generate_sora.py --aspect landscape âœ…

**Estrutura:**
```
scripts/
â”œâ”€â”€ whatsapp/         # 15 templates prontos
â”œâ”€â”€ instagram/        # 6 templates prontos (publicaÃ§Ã£o via API)
â”œâ”€â”€ instagram-scraper/# 5 templates prontos (scraping Apify) âœ… NOVO
â”œâ”€â”€ meta-ads/         # 4 templates prontos
â”œâ”€â”€ nextcloud/        # 2 templates prontos
â”œâ”€â”€ image-generation/ # 5 templates prontos (GPT-4o, Nano Banana, DALL-E 3, batch, ediÃ§Ã£o)
â”œâ”€â”€ video-generation/ # 2 templates prontos (Sora 2 Ãºnico, batch)
â”œâ”€â”€ audio-generation/ # 2 templates prontos (ElevenLabs TTS Ãºnico, batch)
â”œâ”€â”€ extraction/       # 4 templates prontos
â”œâ”€â”€ search/           # 3 templates prontos (xAI Search)
â”œâ”€â”€ twitter/          # 5 templates prontos (Apify)
â”œâ”€â”€ tiktok/           # 5 templates prontos (TikTok API23) âœ…
â”œâ”€â”€ scraping/         # 3 templates prontos (Google Maps Apify)
â””â”€â”€ common/           # template_base.py
```

#### Instagram Scraping (Apify)

**SEMPRE que usuÃ¡rio pedir para extrair/scrape dados do Instagram:**

1. âœ… **Identificar tipo de scraping:**
   - **Posts de usuÃ¡rio** â†’ `scrape_user_posts.py`
   - **Posts de hashtag** â†’ `scrape_hashtag_posts.py`
   - **ComentÃ¡rios de post** â†’ `scrape_post_comments.py`
   - **Perfil completo** â†’ `scrape_user_profile.py`
   - **Posts de localizaÃ§Ã£o** â†’ `scrape_place_posts.py`

2. âœ… **Usar templates prontos:**
   - Todos em `scripts/instagram-scraper/`
   - Nunca criar scripts temporÃ¡rios de scraping

3. âœ… **Controlar custos:**
   - Sempre usar `--limit` (padrÃ£o: 50)
   - Testar com limite baixo primeiro (10-20)
   - Pricing: $2.30/1000 itens

4. âœ… **Filtros de data:**
   - `--newer-than "2024-01-01"` (apÃ³s)
   - `--older-than "2024-12-31"` (antes)

**NUNCA:**
- âŒ Criar scripts temporÃ¡rios de scraping IG
- âŒ Usar ferramentas de `tools/` diretamente (usar templates)
- âŒ Esquecer de usar `--limit` para controlar custos
- âŒ Tentar scrape de perfis privados (retorna apenas dados bÃ¡sicos)

**Exemplos de identificaÃ§Ã£o:**
- "Scrape posts do @natgeo" â†’ scrape_user_posts.py âœ…
- "Extrai comentÃ¡rios desse post: [URL]" â†’ scrape_post_comments.py âœ…
- "Busca posts da hashtag #travel" â†’ scrape_hashtag_posts.py âœ…
- "VÃª o perfil do @avengers" â†’ scrape_user_profile.py âœ…
- "Posts de Niagara Falls" â†’ scrape_place_posts.py âœ…

#### TikTok Scraping

**SEMPRE que usuÃ¡rio pedir para extrair/scrape dados do TikTok:**

1. âœ… **Identificar tipo de scraping:**
   - **Info de usuÃ¡rio** â†’ `get_user_info.py`
   - **Detalhes de vÃ­deo** â†’ `get_video_info.py`
   - **Buscar conteÃºdo** â†’ `search_content.py`
   - **Monitorar trending** â†’ `get_trending.py`
   - **Analisar hashtag** â†’ `analyze_hashtag.py`

2. âœ… **Usar templates prontos:**
   - Todos em `scripts/tiktok/`
   - Nunca criar scripts temporÃ¡rios de scraping

3. âœ… **ParÃ¢metros comuns:**
   - `--username` (sem @)
   - `--video-id` (ID numÃ©rico do vÃ­deo)
   - `--keyword` (termo de busca)
   - `--hashtag` (sem #)
   - `--type` (video/account/general/videos/hashtags/songs/creators/keywords)
   - `--country` (BR, US, etc)
   - `--period` (dias: 1, 7, 30)
   - `--limit` (nÃºmero de resultados)
   - `--posts` (nÃºmero de posts)
   - `--comments` (nÃºmero de comentÃ¡rios)

**NUNCA:**
- âŒ Criar scripts temporÃ¡rios de scraping TikTok
- âŒ Usar ferramentas de `tools/` diretamente (usar templates)
- âŒ Esquecer de usar username sem @ ou hashtag sem #

**Exemplos de identificaÃ§Ã£o:**
- "Info do @taylorswift no TikTok" â†’ get_user_info.py --username taylorswift âœ…
- "Detalhes desse vÃ­deo TikTok" â†’ get_video_info.py --video-id [ID] âœ…
- "Busca vÃ­deos de gato no TikTok" â†’ search_content.py --keyword "gato" --type video âœ…
- "Hashtags em trending Brasil" â†’ get_trending.py --type hashtags --country BR âœ…
- "Analisa hashtag #fyp" â†’ analyze_hashtag.py --hashtag fyp âœ…

---

## ğŸ› ï¸ Ferramentas DisponÃ­veis

**ğŸ“š ÃNDICE COMPLETO:** `docs/tools/INDEX.md`

### Principais Ferramentas:

| Categoria | Ferramentas | Docs |
|-----------|-------------|------|
| **GeraÃ§Ã£o** | Imagens (GPT-4o, Nano Banana), Ãudio (ElevenLabs), VÃ­deo (Sora 2) | `docs/tools/` |
| **Imagens (Scripts)** | GPT-4o, Nano Banana, DALL-E 3, Batch, EdiÃ§Ã£o | `scripts/image-generation/README.md` |
| **VÃ­deos (Scripts)** | Sora 2 (Ãºnico, batch), 3 proporÃ§Ãµes (portrait/landscape/square) | `scripts/video-generation/README.md` |
| **Ãudio (Scripts)** | ElevenLabs TTS (Ãºnico, batch), Vozes (Michele, Felipe) | `scripts/audio-generation/README.md` |
| **ExtraÃ§Ã£o** | TranscriÃ§Ã£o Universal, Instagram, TikTok, Web Scraping | `docs/tools/transcribe_universal.md` |
| **Instagram** | Post, Carrossel, Reel, Story, ComentÃ¡rios, Insights, DMs | `docs/tools/publish_instagram_*.md` |
| **Instagram Scraper** | Posts, Hashtags, ComentÃ¡rios, Perfis, LocalizaÃ§Ãµes (Apify) | `docs/tools/apify_instagram.md` |
| **TikTok Scraper** | UsuÃ¡rios, VÃ­deos, Busca, Trending, Hashtags (TikTok API23) | `docs/tools/tiktok_api23.md` |
| **Meta Ads** | Campanhas, Ad Sets, AnÃºncios, Criativos, Insights, Regional | `docs/tools/meta_ads_*.md` |
| **WhatsApp** | Evolution API - Mensagens, Grupos, Enquetes, LocalizaÃ§Ã£o | `docs/tools/whatsapp_helper.md` |
| **Agendamento** | Sistema de agendamento WhatsApp (Ãºnico/recorrente) | `scheduling-system/README.md` |
| **Busca** | xAI Live Search (Grok) - Web/Twitter/News em tempo real | `docs/tools/xai_search.md` |
| **Twitter Scraper** | Tweets, Perfis, Replies (Apify) | `docs/tools/apify_twitter.md` |
| **Google Maps** | Locais, Reviews, Dados de negÃ³cios (Apify) | `docs/tools/apify_google_maps.md` |

**Total:** ~40 ferramentas | **LocalizaÃ§Ã£o:** `tools/` | **Config:** `config/`

---

## ğŸ“ Estrutura do Workspace

```
ClaudeCode-Workspace/
â”‚
â”œâ”€â”€ ğŸ“„ README.md                 # Ãndice geral
â”œâ”€â”€ ğŸ“„ CLAUDE.md                 # Config auto-load
â”œâ”€â”€ ğŸ“„ requirements.txt          # DependÃªncias Python
â”œâ”€â”€ ğŸ“„ setup.sh                  # Setup inicial
â”‚
â”œâ”€â”€ ğŸ“ tools/                    # 40+ ferramentas Python
â”œâ”€â”€ ğŸ“ scripts/                  # Scripts utilitÃ¡rios
â”œâ”€â”€ ğŸ“ config/                   # ConfiguraÃ§Ãµes (APIs)
â”‚
â”œâ”€â”€ ğŸ“ docs/                     # DocumentaÃ§Ã£o organizada
â”‚   â”œâ”€â”€ tools/                   # Docs das ferramentas (40+ MDs)
â”‚   â”œâ”€â”€ guides/                  # Guias gerais (setup, audio, etc)
â”‚   â”œâ”€â”€ claude-subagents/        # Docs de subagentes Claude
â”‚   â”œâ”€â”€ workflows/               # Docs de workflows
â”‚   â”œâ”€â”€ meta-ads-api/            # Docs Meta Ads API
â”‚   â””â”€â”€ instagram-api/           # Docs Instagram API
â”‚
â”œâ”€â”€ ğŸ“ whatsapp-chatbot/         # Bot WhatsApp V4 (produÃ§Ã£o)
â”œâ”€â”€ ğŸ“ scheduling-system/        # Sistema de agendamento WhatsApp
â”œâ”€â”€ ğŸ“ n8n-mcp-project/          # n8n-MCP (automaÃ§Ã£o)
â”œâ”€â”€ ğŸ“ agentes/                  # Agentes especializados
â”œâ”€â”€ ğŸ“ crewai/                   # Multi-agentes colaborativos
â”œâ”€â”€ ğŸ“ evolution-api-integration/# WhatsApp Helper (Evolution API)
â””â”€â”€ ğŸ“ web-interface/            # Interface web (desenvolvimento)
```

---

## ğŸ¯ Como Usar Ferramentas

### 1. Via README Principal
```
"OlÃ¡! Leia README.md e me mostre o Ã­ndice de ferramentas"
```

### 2. Via Docs EspecÃ­fica
```
"Leia docs/tools/publish_instagram_post.md e me explique como usar"
```

### 3. Direto (se souber o comando)
```
"Execute: python3 tools/generate_image.py 'astronauta gato' --enhance"
```

---

## ğŸ¤– Sistema de Agentes

| Tipo | Como Usar |
|------|-----------|
| **Agentes MD** | `"Ative o agente especificidade33 para criar post viral Instagram"` |
| **OpenRouter** | `python3 tools/agent_openrouter.py copywriter-vendas "headline para curso Python"` |
| **CrewAI** | `cd crewai && python3.11 crews/copywriter_crew.py` |

**Modelos disponÃ­veis:** Claude Haiku/Sonnet 4.5, GPT-4o/5, Gemini 2.5 Pro, Grok 4, DeepSeek, GLM 4.6

---

## ğŸ”„ n8n-MCP (AutomaÃ§Ã£o)

**InstÃ¢ncia:** https://n8n.loop9.com.br

```bash
cd n8n-mcp-project && claude-code
```

- 3000+ templates prÃ©-configurados
- CriaÃ§Ã£o de workflows via linguagem natural
- **SeguranÃ§a:** NUNCA deleta workflows sem confirmaÃ§Ã£o

---

## ğŸ“– DocumentaÃ§Ãµes Completas

| Recurso | LocalizaÃ§Ã£o |
|---------|-------------|
| **README Principal** | `README.md` (Ã­ndice geral) |
| **Ferramentas (40+)** | `docs/tools/INDEX.md` + MDs individuais |
| **Chatbot WhatsApp V4** | `whatsapp-chatbot/README.md` |
| **Agendamento WhatsApp** | `scheduling-system/README.md` + `docs/tools/scheduling_system.md` |
| **n8n-MCP** | `n8n-mcp-project/README.md` + `CLAUDE.md` |
| **WhatsApp Helper** | `evolution-api-integration/README.md` + `GUIA_RAPIDO.md` |
| **Meta Ads API** | `docs/meta-ads-api/META_ADS_API_DOCUMENTATION.md` |
| **Instagram API** | `docs/instagram-api/INSTAGRAM_API_DOCUMENTATION.md` |
| **CrewAI** | `crewai/README.md` + `INICIO-RAPIDO.md` |
| **Agentes OpenRouter** | `agentes/openrouter/README.md` |
| **Subagentes Claude** | `docs/claude-subagents/` (docs de criaÃ§Ã£o) |
| **Guias Gerais** | `docs/guides/` (setup, audio, alias, xAI, n8n) |
| **Workflows** | `docs/workflows/` (padrÃµes e exemplos) |

---

## ğŸ’¡ Workflow Recomendado

### Para Tarefas Novas:

1. **Pergunte primeiro:**
   ```
   "Preciso [descrever tarefa]. Que ferramenta devo usar?"
   ```

2. **Leia a docs especÃ­fica:**
   ```
   "Leia docs/tools/[ferramenta].md e me explique"
   ```

3. **Execute:**
   ```
   "Execute o comando [comando completo]"
   ```

### Para Explorar:

```
"Liste as ferramentas disponÃ­veis para [categoria]"
"Mostre exemplos de uso do [ferramenta]"
"Como faÃ§o para [tarefa especÃ­fica]?"
```

---

## âš™ï¸ ConfiguraÃ§Ãµes Importantes

### APIs Configuradas:
- âœ… OpenRouter (Claude Haiku/Sonnet 4.5)
- âœ… OpenAI (GPT-4o, Whisper)
- âœ… Gemini 2.5 Flash (Nano Banana)
- âœ… Instagram API (v24.0)
- âœ… Meta Ads API (v24.0)
- âœ… Evolution API (WhatsApp)
- âœ… xAI (Grok)
- âœ… ElevenLabs (TTS)
- âœ… Kie.ai (GPT-4o Image, Sora)
- âœ… Apify (Scraping)
- âœ… RapidAPI (TranscriÃ§Ã£o)
- âœ… Nextcloud (Upload)
- âœ… Upstash Redis (MemÃ³ria chatbot)

### IntegraÃ§Ãµes Ativas:
- âœ… Chatwoot (inbox LF IMOVEIS)
- âœ… n8n (https://n8n.loop9.com.br)
- âœ… Evolution API (instÃ¢ncia: lfimoveis)

---

## ğŸš¨ Regras de SeguranÃ§a

### âš ï¸ NUNCA:
- Deletar workflows sem confirmaÃ§Ã£o explÃ­cita
- Modificar arquivos de produÃ§Ã£o sem avisar
- Executar comandos destrutivos sem perguntar
- Commitar API keys ou secrets

### âœ… SEMPRE:
- Perguntar antes de aÃ§Ãµes irreversÃ­veis
- Mostrar comandos antes de executar
- Salvar outputs em `~/Downloads`
- Usar logs para monitoramento

---

## ğŸ¨ Dicas de Uso

### GeraÃ§Ã£o de Imagens:
- Seja especÃ­fico (detalhes, estilo, cores)
- Use `--enhance` para refinamento de prompt
- Arquivos salvos em portuguÃªs automaticamente

### GeraÃ§Ã£o de Ãudio:
- Use pontuaÃ§Ã£o para controlar pausas e entonaÃ§Ã£o
- Textos longos (~5000 chars) funcionam bem
- Para 2+ Ã¡udios, sempre use batch_generate.py
- Ajuste estabilidade: 0.3 (expressivo) a 0.8 (profissional)

### Meta Ads Regional:
- **NÃƒO funciona** com special_ad_categories (HOUSING/CREDIT/EMPLOYMENT)
- Use targeting por cidade completa para essas categorias

### WhatsApp Helper:
- Formato de nÃºmeros: DDI+DDD+NÃºmero (ex: 5511999999999)
- Sem espaÃ§os, hÃ­fens ou parÃªnteses

### Chatbot V4:
- Debounce: 15s + anÃ¡lise IA (pode aguardar atÃ© 65s)
- MemÃ³ria: 30 mensagens, 14 dias
- TranscriÃ§Ã£o de Ã¡udios e visÃ£o de imagens automÃ¡ticas

---

## ğŸ“Š Performance

| Recurso | LatÃªncia | Custo |
|---------|----------|-------|
| Chatbot V4 (texto) | ~3s | ~$0.60/mÃªs (1000 msgs) |
| Chatbot V4 (Ã¡udio) | ~5-10s | +$0.006/min |
| GPT-4o Image | ~20-30s | IncluÃ­do na API |
| GPT-4o Image (script) | ~30-40s (Ãºnica), ~10-15s (batch) | Template pronto |
| Nano Banana (script) | ~15-18s (Ãºnica), ~6s (batch) | 60% mais rÃ¡pido |
| EdiÃ§Ã£o Nano Banana | ~18-26s | Inclui upload |
| ElevenLabs TTS (script) | ~25-35s (Ãºnico), ~3-5s/Ã¡udio (batch) | Template pronto |
| Sora 2 Video | ~2-5min | IncluÃ­do na API |
| xAI Search | ~2-3s | ~$0.125/busca |
| Meta Ads API | Instant | GrÃ¡tis |
| Instagram API | Instant | GrÃ¡tis (100 posts/24h) |

---

## ğŸ”§ Troubleshooting RÃ¡pido

### Chatbot nÃ£o responde:
```bash
curl http://localhost:5001/health
tail -f whatsapp-chatbot/logs/chatbot_v4.log
```

### Ferramenta nÃ£o executa:
```bash
chmod +x tools/*.py
pip3 install --user [dependÃªncia]
```

### API erro 401:
- Verificar keys em `config/` ou variÃ¡veis de ambiente

---

## ğŸ“ Suporte

**Docs principais:**
- Este arquivo: `CLAUDE.md`
- README geral: `README.md`
- Ãndice ferramentas: `docs/tools/INDEX.md`

**Para adicionar nova ferramenta:**
1. Coloque script em `tools/`
2. Adicione dependÃªncias em `requirements.txt`
3. Rode `bash setup.sh`
4. Crie MD em `docs/tools/`
5. Atualize `docs/tools/INDEX.md`

---

## ğŸ“‹ ReferÃªncia Completa: 19 Templates WhatsApp (Testados)

### LocalizaÃ§Ã£o
Todos os templates estÃ£o em: `scripts/whatsapp/`

### Por Categoria

#### ğŸ“¤ Envio (6 templates)
1. `send_message.py` - Enviar mensagem de texto
2. `send_media.py` - Enviar imagem/vÃ­deo/documento
3. `send_audio.py` - Enviar Ã¡udio PTT (Push To Talk)
4. `send_location.py` - Enviar localizaÃ§Ã£o/coordenadas
5. `send_contact.py` - Enviar cartÃ£o de contato
6. `send_poll.py` - Enviar enquete

#### ğŸ’¬ InteraÃ§Ãµes (6 templates)
7. `send_reaction.py` - Reagir a mensagem com emoji
8. `send_reply.py` - Responder mensagem especÃ­fica
9. `send_mention.py` - Mencionar pessoas em grupo
10. `send_status.py` - Postar status/story
11. `message_actions.py` - Marcar como lida / Deletar mensagem
12. `create_group.py` - Criar grupo

#### ğŸ‘¥ Grupos (4 templates)
13. `list_groups.py` - âœ… Listar todos os grupos
14. `update_group.py` - Atualizar nome/descriÃ§Ã£o/foto do grupo
15. `manage_participants.py` - Adicionar/Remover/Promover/Demover participantes
16. `leave_group.py` - Sair de grupo (IRREVERSÃVEL!)

#### ğŸ‘¤ Perfil/Contatos (2 templates)
17. `manage_profile.py` - Atualizar nome/status/foto do perfil
18. `get_profile.py` - âš ï¸ Ver perfil (endpoint pode estar indisponÃ­vel)
19. `check_number.py` - âœ… Verificar se nÃºmero existe no WhatsApp
20. `get_contacts.py` - âš ï¸ Listar contatos/chats (endpoint pode estar indisponÃ­vel)

#### âš™ï¸ Sistema (2 templates)
21. `instance_info.py` - âœ… Ver informaÃ§Ãµes da instÃ¢ncia e QR code
22. `manage_webhooks.py` - âœ… Ver/Configurar webhooks

### Status de Funcionamento (Testados 02/11/2025)

âœ… **Funcionando Perfeitamente:**
- `instance_info.py` - Status: CONECTADA (instÃ¢ncia lfimoveis)
- `list_groups.py` - 4 grupos encontrados
- `check_number.py` - ValidaÃ§Ã£o OK (nÃºmero 5531980160822 existe)
- `manage_webhooks.py` (get) - 5 eventos configurados (MESSAGES_UPSERT, MESSAGES_UPDATE, MESSAGES_DELETE, SEND_MESSAGE, CONNECTION_UPDATE)

âš ï¸ **Endpoints IndisponÃ­veis (404):**
- `get_profile.py` - Endpoint `/profile/fetchProfile/` nÃ£o encontrado
- `get_contacts.py` - Endpoint `/chat/fetchAllChats/` nÃ£o encontrado

â„¹ï¸ **Demais Templates:**
- NÃ£o testados com envio real, mas estrutura validada e compatÃ­vel com API

### Quick Reference (Comandos Mais Usados)

```bash
# Info da instÃ¢ncia
python3 scripts/whatsapp/instance_info.py

# Listar grupos
python3 scripts/whatsapp/list_groups.py --verbose

# Verificar nÃºmero
python3 scripts/whatsapp/check_number.py --phones 5531980160822

# Ver webhooks
python3 scripts/whatsapp/manage_webhooks.py --action get

# Enviar mensagem
python3 scripts/whatsapp/send_message.py --phone 5531980160822 --message "OlÃ¡!"

# Enviar mÃ­dia
python3 scripts/whatsapp/send_media.py --phone 5531980160822 --file "imagem.jpg" --type image

# Criar grupo
python3 scripts/whatsapp/create_group.py --name "Meu Grupo" --phones 5531980160822,5511999999999

# Atualizar grupo
python3 scripts/whatsapp/update_group.py --group "120363404863351747@g.us" --name "Novo Nome"
```

### DocumentaÃ§Ã£o Completa
Consulte `scripts/whatsapp/README.md` para documentaÃ§Ã£o detalhada de todos os templates.

---

**Ãšltima atualizaÃ§Ã£o:** 2025-11-02 (TikTok Scraping - 5 templates adicionados ao CLAUDE.md)
**VersÃ£o Workspace:** 2.8 (TikTok Scraping + Google Maps + Twitter + WhatsApp completos)
