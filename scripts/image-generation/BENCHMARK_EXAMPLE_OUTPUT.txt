â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  EXEMPLO DE SAÃDA ESPERADA AO EXECUTAR O SCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

$ python3 scripts/image-generation/benchmark_mcp_vs_direct.py

==================================================
â•‘      BENCHMARK: DIRECT vs MCP                  â•‘
==================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           CONFIGURAÃ‡ÃƒO                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Prompt teste: gato astronauta flutuando no espaÃ§o, estilo ilustraÃ§Ã£o digital, cinematic


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TESTE 1: ABORDAGEM DIRETA               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ EstratÃ©gia: Import tools + chamada direta

ğŸŒ Gerando imagem com Nano Banana (Gemini 2.5 Flash)...
ğŸ“ Prompt: gato astronauta flutuando no espaÃ§o, estilo ilustraÃ§Ã£o digital, cinematic
ğŸ–¼ï¸  Formato: PNG | Tamanho: Portrait (2:3)
âœ… Tarefa criada com sucesso!
ğŸ†” Task ID: 5f3e7a2b1c9d8e6f4a2b1c9d

â³ Aguardando geraÃ§Ã£o da imagem...
â³ Processando...
âœ… Imagem gerada com sucesso!

ğŸ“¥ Baixando imagem...
ğŸ’¾ Imagem salva em: /tmp/tmpabcd1234/direct_test.png

âœ… Sucesso!

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tempo Total                    48.32s          â”‚
â”‚ GeraÃ§Ã£o                        42.18s          â”‚
â”‚ Download                        6.14s          â”‚
â”‚ Status                    âœ… SUCESSO           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    TESTE 2: 2 CHAMADAS SEQUENCIAIS             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ EstratÃ©gia: Direct import com 2 geraÃ§Ãµes

[1/2] Gerando imagem 1...
ğŸŒ Gerando imagem com Nano Banana (Gemini 2.5 Flash)...
ğŸ“ Prompt: gato astronauta flutuando no espaÃ§o, estilo ilustraÃ§Ã£o digital, cinematic (versÃ£o 1)
âœ… Tarefa criada com sucesso!

â³ Aguardando geraÃ§Ã£o da imagem...
âœ… Imagem gerada com sucesso!

ğŸ“¥ Baixando imagem...
ğŸ’¾ Imagem salva em: /tmp/tmpxyz5678/sequential_0.png

[2/2] Gerando imagem 2...
ğŸŒ Gerando imagem com Nano Banana (Gemini 2.5 Flash)...
ğŸ“ Prompt: gato astronauta flutuando no espaÃ§o, estilo ilustraÃ§Ã£o digital, cinematic (versÃ£o 2)
âœ… Tarefa criada com sucesso!

â³ Aguardando geraÃ§Ã£o da imagem...
âœ… Imagem gerada com sucesso!

ğŸ“¥ Baixando imagem...
ğŸ’¾ Imagem salva em: /tmp/tmpxyz5678/sequential_1.png

âœ… 2/2 imagens geradas com sucesso

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tempo Total                    96.45s          â”‚
â”‚ Tempo GeraÃ§Ã£o (total)          84.22s          â”‚
â”‚ Tempo Download (total)         12.23s          â”‚
â”‚ Taxa de Sucesso                 2/2            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   TESTE 3: OVERHEAD DE IMPORT (3x)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ EstratÃ©gia: Direct import com 3 geraÃ§Ãµes

[1/3] Medindo overhead...
   IteraÃ§Ã£o 1: 45.2ms

[2/3] Medindo overhead...
   IteraÃ§Ã£o 2: 42.8ms

[3/3] Medindo overhead...
   IteraÃ§Ã£o 3: 44.1ms

âœ… Sucesso!

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tempo MÃ©dio                     44.0ms         â”‚
â”‚ MÃ­nimo                          42.8ms         â”‚
â”‚ MÃ¡ximo                          45.2ms         â”‚
â”‚ Total                            0.13s         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      TESTE 4: TRATAMENTO DE ERROS              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ EstratÃ©gia: Tentar prompt invÃ¡lido

Testando com prompt vazio...
âŒ Erro: Prompt vazio nÃ£o Ã© permitido

âœ… Erro capturado corretamente (prompt vazio rejeitado)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tempo                            0.05s         â”‚
â”‚ Erro Detectado                  âœ… SIM         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           RESUMO DOS TESTES                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Direct Import                   âœ… PASSOU   â”‚
â”‚ 2. Sequential x2                   âœ… PASSOU   â”‚
â”‚ 3. Import Overhead                 âœ… PASSOU   â”‚
â”‚ 4. Error Handling                  âœ… PASSOU   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ANÃLISE DE PERFORMANCE                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GeraÃ§Ã£o (Direct)          42.18s               â”‚
â”‚ Download                   6.14s               â”‚
â”‚ Total                     48.32s               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“Š RelatÃ³rio salvo em: /Users/felipemdepaula/Desktop/ClaudeCode-Workspace/scripts/image-generation/benchmark_report_20250105_143022.json

==================================================
â•‘           BENCHMARK CONCLUÃDO                  â•‘
==================================================


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ARQUIVO JSON GERADO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

benchmark_report_20250105_143022.json:

{
  "timestamp": "2025-01-05T14:30:22.123456",
  "test_prompt": "gato astronauta flutuando no espaÃ§o, estilo ilustraÃ§Ã£o digital, cinematic",
  "results": [
    {
      "name": "Direct Import",
      "success": true,
      "total_time": 48.32,
      "generation_time": 42.18,
      "download_time": 6.14,
      "error": null
    },
    {
      "name": "Sequential x2",
      "success": true,
      "total_time": 96.45,
      "generation_time": 84.22,
      "download_time": 12.23,
      "error": null
    },
    {
      "name": "Import Overhead",
      "success": true,
      "total_time": 0.13,
      "generation_time": 0.0,
      "download_time": 0.0,
      "error": null
    },
    {
      "name": "Error Handling",
      "success": true,
      "total_time": 0.05,
      "generation_time": 0.0,
      "download_time": 0.0,
      "error": null
    }
  ]
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  INTERPRETAÃ‡ÃƒO DOS RESULTADOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… DIRECT IMPORT (Teste 1)
   Tempo total: 48.32s
   - 42.18s na geraÃ§Ã£o de imagem (API call + aguardar)
   - 6.14s no download
   
   ConclusÃ£o: LatÃªncia esperada para uma geraÃ§Ã£o Ãºnica

âœ… SEQUENTIAL (Teste 2)
   2 geraÃ§Ãµes: 96.45s
   - MÃ©dia por imagem: 48.2s (equivalente ao direct)
   - Tempo linear (sem paralelismo)
   
   ConclusÃ£o: Sem overhead significativo entre chamadas sequenciais

âœ… IMPORT OVERHEAD (Teste 3)
   Tempo mÃ©dio: 44.0ms
   - MÃ­nimo: 42.8ms
   - MÃ¡ximo: 45.2ms
   - VariÃ¢ncia: <2ms
   
   ConclusÃ£o: Overhead de import Ã© negligenciÃ¡vel e consistente

âœ… ERROR HANDLING (Teste 4)
   Erro detectado: âœ… SIM
   Tempo: 0.05s
   
   ConclusÃ£o: ValidaÃ§Ã£o de input funcionando corretamente

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RECOMENDAÃ‡Ã•ES:

1. Abordagem DIRETA Ã© eficiente para uso imediato
2. Import overhead (<50ms) nÃ£o Ã© gargalo
3. LatÃªncia total dominada pela API (42.18s)
4. Tratamento de erros robusto e rÃ¡pido
5. Sequencial funciona bem para N < 10 geraÃ§Ãµes

MCP seria recomendado para:
- MÃºltiplas requisiÃ§Ãµes concorrentes
- Isolamento de processos
- Sistema distribuÃ­do

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
